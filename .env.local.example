# =============================================================================
# ELASTIC AGENT BUILDER NBA DEMO - ENVIRONMENT VARIABLES
# =============================================================================
# This file contains ALL environment variables used across the project.
# Copy this file to .env.local and fill in your actual values.
#
# Priority Levels:
# - [CRITICAL] Required for core functionality
# - [HIGH] Important for production deployment
# - [MEDIUM] Performance tuning and flexibility
# - [LOW] Optional conveniences
#
# =============================================================================

# =============================================================================
# ELASTICSEARCH & KIBANA CONFIGURATION
# =============================================================================

# [CRITICAL] Elasticsearch connection
ELASTICSEARCH_URL=https://your-cluster.elastic.cloud
ELASTICSEARCH_API_KEY=your-elasticsearch-api-key

# [CRITICAL] Kibana Agent Builder
KIBANA_URL=https://your-kibana.elastic.cloud
AGENT_ID=nba_commentary_assitante

# =============================================================================
# ANTHROPIC CLAUDE API
# =============================================================================

# [CRITICAL] Anthropic API key for LLM features
ANTHROPIC_API_KEY=your-anthropic-api-key

# =============================================================================
# FRONTEND CONFIGURATION (Next.js)
# =============================================================================
# NOTE: All frontend environment variables MUST use NEXT_PUBLIC_ prefix
# to be accessible in client-side code

# [CRITICAL] WebSocket connection for frontend
NEXT_PUBLIC_WS_URL=ws://localhost:3001
# Alternative: Split configuration
# NEXT_PUBLIC_BACKEND_WS_HOST=localhost
# NEXT_PUBLIC_BACKEND_WS_PORT=3001

# [MEDIUM] WebSocket reconnection delay (milliseconds)
NEXT_PUBLIC_WS_RECONNECT_DELAY_MS=3000

# =============================================================================
# LLM SUMMARIZER CONFIGURATION (Frontend)
# =============================================================================

# [HIGH] Claude model for summarization
LLM_SUMMARIZER_MODEL=claude-sonnet-4-20250514

# [MEDIUM] Summarizer parameters
LLM_SUMMARIZER_MAX_TOKENS=2000
LLM_SUMMARIZER_TEMPERATURE=0.7
LLM_SUMMARIZER_MAX_RESULT_LENGTH=8000
LLM_SUMMARIZER_MAX_ARRAY_ITEMS=5

# =============================================================================
# NODE.JS BACKEND (nba-backend)
# =============================================================================

# [HIGH] Python backend connection
PYTHON_BACKEND=http://localhost:3002

# [HIGH] API timeouts (milliseconds)
AGENTS_API_TIMEOUT_MS=5000
QUERY_API_TIMEOUT_MS=120000

# [MEDIUM] Backend server configuration
BACKEND_PORT=3001
BACKEND_HOST=0.0.0.0

# [LOW] Streaming configuration
WORD_STREAMING_DELAY_MS=20
DEFAULT_CHUNK_SIZE=1
DEFAULT_STREAM_DELAY_MS=50

# =============================================================================
# MCP AGGREGATOR (backend/mcp-aggregator)
# =============================================================================

# [HIGH] LLM Router - Model selection
LLM_ROUTER_MODEL=claude-sonnet-4-20250514
LLM_ADVANCED_ROUTER_MODEL=claude-sonnet-4-20250514

# [MEDIUM] LLM Router - Parameters
LLM_ROUTER_MAX_TOKENS=2000
LLM_ADVANCED_ROUTER_MAX_TOKENS=1800
LLM_ADVANCED_ROUTER_TEMPERATURE=0.3

# [MEDIUM] Cache configuration
MCP_CACHE_MAX_SIZE=500
MCP_CACHE_TTL_MS=300000

# [MEDIUM] Code executor timeout (milliseconds)
CODE_EXECUTOR_TIMEOUT_MS=2000

# [MEDIUM] MCP Server paths
BALLDONTLIE_MCP_SERVER_PATH=./mcp-servers/balldontlie/dist/index.js
SENTIMENT_MCP_PATH=./mcp-servers/sentiment/dist/index.js

# [MEDIUM] Feature flags
USE_NBA_MCP_SERVER=true
USE_LLM_ROUTER=true
USE_LLM_ADVANCED_ROUTER=false
USE_SENTIMENT_MCP_SERVER=true

# =============================================================================
# BALLDONTLIE MCP SERVER (mcp-servers/balldontlie)
# =============================================================================

# [CRITICAL] BallDontLie API key
BALLDONTLIE_API_KEY=your-balldontlie-api-key

# [MEDIUM] BallDontLie API configuration
BALLDONTLIE_API_BASE_URL=https://api.balldontlie.io/v1
BALLDONTLIE_API_TIMEOUT_MS=10000
BALLDONTLIE_TEAMS_PER_PAGE=100

# =============================================================================
# SENTIMENT MCP SERVER (mcp-servers/sentiment)
# =============================================================================

# [HIGH] Sentiment service feature flags
TWITTER_SENTIMENT_SERVICE=true
USE_SENTIMENT_MCP_SERVER=true

# [CRITICAL] Twitter/X API (Optional - falls back to mock data if missing)
TWITTER_BEARER_TOKEN=your-twitter-bearer-token

# [CRITICAL] Reddit API (Optional - falls back to mock data if missing)
REDDIT_CLIENT_ID=your-reddit-client-id
REDDIT_CLIENT_SECRET=your-reddit-client-secret
REDDIT_USERNAME=your-reddit-username
REDDIT_PASSWORD=your-reddit-password
REDDIT_APP_NAME=your-reddit-app-name

# [MEDIUM] Sentiment analysis parameters
SENTIMENT_WINDOW_MINUTES=180
SENTIMENT_MAX_SAMPLES=50

# =============================================================================
# A2A BACKEND (a2a-backend) - Python FastAPI
# =============================================================================

# [CRITICAL] Azure OpenAI Configuration
# REQUIRED: Without these, the a2a-backend will not start
AZURE_OPENAI_API_KEY=your-azure-openai-api-key
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_DEPLOYMENT_NAME=your-deployment-name
AZURE_OPENAI_API_VERSION=2024-08-01-preview

# [CRITICAL] Elastic Agent Builder A2A Protocol
# REQUIRED: For multi-agent orchestration
ELASTIC_STATS_AGENT_URL=https://your-kibana.elastic.co/api/agent_builder/agents/stats-agent-id/converse
ELASTIC_MEDIA_AGENT_URL=https://your-kibana.elastic.co/api/agent_builder/agents/media-agent-id/converse
ELASTIC_API_KEY=your-elastic-api-key

# [HIGH] FastAPI server configuration
FASTAPI_PORT=3002
FASTAPI_HOST=0.0.0.0

# =============================================================================
# DATA INGESTION SCRIPTS (data/ingest)
# =============================================================================

# [HIGH] NBA Season (UPDATE ANNUALLY!)
NBA_CURRENT_SEASON=2024-25

# [MEDIUM] NBA API Configuration
NBA_SCHEDULE_API_URL=https://cdn.nba.com/static/json/staticData/scheduleLeagueV2.json
NBA_API_TIMEOUT_SECONDS=30
NBA_API_RATE_LIMIT_DELAY_SECONDS=0.6

# [MEDIUM] Elasticsearch Index Names
ES_INDEX_GAME_SCHEDULE=nba-game-schedule
ES_INDEX_LIVE_GAMES=nba-live-games
ES_INDEX_PLAYER_STATS=nba-player-stats
ES_INDEX_GAME_LOGS=nba-player-game-logs

# [MEDIUM] Elasticsearch Bulk Indexing
ES_BULK_CHUNK_SIZE=100
ES_BULK_CHUNK_SIZE_GAME_LOGS=500
ES_BULK_CHUNK_SIZE_PLAYER_STATS=500

# [MEDIUM] Live games streaming interval (seconds)
LIVE_GAMES_UPDATE_INTERVAL_SECONDS=30

# [MEDIUM] Tracked NBA Players (JSON array format)
# Format: [{"id":"player_id","name":"Player Name"}, ...]
TRACKED_PLAYERS='[{"id":"2544","name":"LeBron James"},{"id":"203999","name":"Nikola Jokic"},{"id":"201939","name":"Stephen Curry"},{"id":"1629029","name":"Luka Doncic"},{"id":"1630162","name":"Shai Gilgeous-Alexander"},{"id":"1628369","name":"Jayson Tatum"},{"id":"1630178","name":"Anthony Edwards"},{"id":"1630533","name":"LaMelo Ball"},{"id":"203507","name":"Giannis Antetokounmpo"},{"id":"1626164","name":"Joel Embiid"}]'

# =============================================================================
# DEVELOPMENT & DEBUGGING
# =============================================================================

# [LOW] Logging levels
LOG_LEVEL=info

# [LOW] Debug flags
DEBUG_MCP_ROUTER=false
DEBUG_SENTIMENT_ANALYSIS=false

# =============================================================================
# NOTES FOR DEPLOYMENT
# =============================================================================
#
# CRITICAL VARIABLES (Must be set for production):
# - ELASTICSEARCH_URL, ELASTICSEARCH_API_KEY
# - KIBANA_URL, AGENT_ID
# - ANTHROPIC_API_KEY
# - NEXT_PUBLIC_WS_URL (must match your deployed backend URL)
# - AZURE_OPENAI_* (all 4 variables for a2a-backend)
# - ELASTIC_STATS_AGENT_URL, ELASTIC_MEDIA_AGENT_URL, ELASTIC_API_KEY
#
# Optional but Recommended:
# - TWITTER_BEARER_TOKEN, REDDIT_* (for real sentiment data)
# - BALLDONTLIE_API_KEY (for enhanced NBA data)
#
# Annual Updates Required:
# - NBA_CURRENT_SEASON (update at start of each season)
#
# =============================================================================
